<section class="authtion-personal">
  <h2>Personal information</h2>

  <div class="authtion-personal__top-wrap">
    <app-input-text-dwfe class="authtion-personal__group-control  authtion-personal__top-wrap-item"
                         [labelText]="'ID'"
                         (takeControl)="cId=$event">
    </app-input-text-dwfe>

    <app-input-text-dwfe class="authtion-personal__group-control  authtion-personal__top-wrap-item"
                          [labelText]="'Created On'"
                          (takeControl)="cCreatedOn=$event">
    </app-input-text-dwfe>
  </div>

  <mat-divider class="authtion-personal__divider"></mat-divider>

  <form class="dwfe-form  authtion-personal__form" spellcheck="false">

    <div class="authtion-personal__form-wrap  authtion-personal__form-wrap--left">

      <div class="authtion-personal__group">
        <app-input-text-dwfe class="authtion-personal__group-control"
                             [labelText]="'Email'"
                             (takeControl)="cEmail=$event">
        </app-input-text-dwfe>

        <app-slide-toggle-dwfe class="authtion-personal__group-vis-checker"
                               [labelText]="'public'"
                               [markIfChanged]="true"
                               [cancelEdit$]="subjCancelEdit.asObservable()"
                               [saveEdit$]="subjSaveEdit.asObservable()"
                               (takeControl)="tEmail=$event"
                               (takeIsChanged)="emailNonPublic_changed=$event">
        </app-slide-toggle-dwfe>
      </div>

      <div class="authtion-personal__group">
        <app-input-text-dwfe class="authtion-personal__group-control"
                             [labelText]="'Nick Name'"
                             [markIfChanged]="true"
                             [cancelEdit$]="subjCancelEdit.asObservable()"
                             [saveEdit$]="subjSaveEdit.asObservable()"
                             (takeControl)="cNickName=$event"
                             (takeIsChanged)="nickName_changed=$event">
        </app-input-text-dwfe>

        <app-slide-toggle-dwfe class="authtion-personal__group-vis-checker"
                               [labelText]="'public'"
                               [markIfChanged]="true"
                               [cancelEdit$]="subjCancelEdit.asObservable()"
                               [saveEdit$]="subjSaveEdit.asObservable()"
                               (takeControl)="tNickName=$event"
                               (takeIsChanged)="nickNameNonPublic_changed=$event">
        </app-slide-toggle-dwfe>
      </div>

      <div class="authtion-personal__group">
        <app-input-text-dwfe class="authtion-personal__group-control"
                             [labelText]="'First Name'"
                             [markIfChanged]="true"
                             [cancelEdit$]="subjCancelEdit.asObservable()"
                             [saveEdit$]="subjSaveEdit.asObservable()"
                             (takeControl)="cFirstName=$event"
                             (takeIsChanged)="firstName_changed=$event">
        </app-input-text-dwfe>

        <app-slide-toggle-dwfe class="authtion-personal__group-vis-checker"
                               [labelText]="'public'"
                               [markIfChanged]="true"
                               [cancelEdit$]="subjCancelEdit.asObservable()"
                               [saveEdit$]="subjSaveEdit.asObservable()"
                               (takeControl)="tFirstName=$event"
                               (takeIsChanged)="firstNameNonPublic_changed=$event">
        </app-slide-toggle-dwfe>
      </div>

      <div class="authtion-personal__group">
        <app-input-text-dwfe class="authtion-personal__group-control"
                             [labelText]="'Middle Name'"
                             [markIfChanged]="true"
                             [cancelEdit$]="subjCancelEdit.asObservable()"
                             [saveEdit$]="subjSaveEdit.asObservable()"
                             (takeControl)="cMiddleName=$event"
                             (takeIsChanged)="middleName_changed=$event">
        </app-input-text-dwfe>

        <app-slide-toggle-dwfe class="authtion-personal__group-vis-checker"
                               [labelText]="'public'"
                               [markIfChanged]="true"
                               [cancelEdit$]="subjCancelEdit.asObservable()"
                               [saveEdit$]="subjSaveEdit.asObservable()"
                               (takeControl)="tMiddleName=$event"
                               (takeIsChanged)="middleNameNonPublic_changed=$event">
        </app-slide-toggle-dwfe>
      </div>

      <div class="authtion-personal__group">
        <app-input-text-dwfe class="authtion-personal__group-control"
                             [labelText]="'Last Name'"
                             [markIfChanged]="true"
                             [cancelEdit$]="subjCancelEdit.asObservable()"
                             [saveEdit$]="subjSaveEdit.asObservable()"
                             (takeControl)="cLastName=$event"
                             (takeIsChanged)="lastName_changed=$event">
        </app-input-text-dwfe>

        <app-slide-toggle-dwfe class="authtion-personal__group-vis-checker"
                               [labelText]="'public'"
                               [markIfChanged]="true"
                               [cancelEdit$]="subjCancelEdit.asObservable()"
                               [saveEdit$]="subjSaveEdit.asObservable()"
                               (takeControl)="tLastName=$event"
                               (takeIsChanged)="lastNameNonPublic_changed=$event">
        </app-slide-toggle-dwfe>
      </div>

    </div>

    <div class="authtion-personal__form-wrap">

      <div class="authtion-personal__group">
        <app-select-dwfe class="authtion-personal__group-control"
                         [labelText]="'Gender'"
                         [markIfChanged]="true"
                         [items]="gendersList"
                         [cancelEdit$]="subjCancelEdit.asObservable()"
                         [saveEdit$]="subjSaveEdit.asObservable()"
                         (takeControl)="cGender=$event"
                         (takeIsChanged)="gender_changed=$event">
        </app-select-dwfe>

        <app-slide-toggle-dwfe class="authtion-personal__group-vis-checker"
                               [labelText]="'public'"
                               [markIfChanged]="true"
                               [cancelEdit$]="subjCancelEdit.asObservable()"
                               [saveEdit$]="subjSaveEdit.asObservable()"
                               (takeControl)="tGender=$event"
                               (takeIsChanged)="genderNonPublic_changed=$event">
        </app-slide-toggle-dwfe>
      </div>

      <div class="authtion-personal__group">
        <app-date-picker-dwfe class="authtion-personal__group-control"
                              [labelText]="'Date of Birth'"
                              [markIfChanged]="true"
                              [cancelEdit$]="subjCancelEdit.asObservable()"
                              [saveEdit$]="subjSaveEdit.asObservable()"
                              (takeControl)="cDateOfBirth=$event"
                              (takeIsChanged)="dateOfBirth_changed=$event">
        </app-date-picker-dwfe>

        <app-slide-toggle-dwfe class="authtion-personal__group-vis-checker"
                               [labelText]="'public'"
                               [markIfChanged]="true"
                               [cancelEdit$]="subjCancelEdit.asObservable()"
                               [saveEdit$]="subjSaveEdit.asObservable()"
                               (takeControl)="tDateOfBirth=$event"
                               (takeIsChanged)="dateOfBirthNonPublic_changed=$event">
        </app-slide-toggle-dwfe>
      </div>

      <div class="authtion-personal__group">
        <app-select-dwfe class="authtion-personal__group-control"
                         [labelText]="'Country'"
                         [markIfChanged]="true"
                         [items]="countriesList"
                         [cancelEdit$]="subjCancelEdit.asObservable()"
                         [saveEdit$]="subjSaveEdit.asObservable()"
                         (takeControl)="cCountry=$event"
                         (takeIsChanged)="country_changed=$event">
        </app-select-dwfe>

        <app-slide-toggle-dwfe class="authtion-personal__group-vis-checker"
                               [labelText]="'public'"
                               [markIfChanged]="true"
                               [cancelEdit$]="subjCancelEdit.asObservable()"
                               [saveEdit$]="subjSaveEdit.asObservable()"
                               (takeControl)="tCountry=$event"
                               (takeIsChanged)="countryNonPublic_changed=$event">
        </app-slide-toggle-dwfe>
      </div>

      <div class="authtion-personal__group">
        <app-input-text-dwfe class="authtion-personal__group-control"
                             [labelText]="'City'"
                             [markIfChanged]="true"
                             [cancelEdit$]="subjCancelEdit.asObservable()"
                             [saveEdit$]="subjSaveEdit.asObservable()"
                             (takeControl)="cCity=$event"
                             (takeIsChanged)="city_changed=$event">
        </app-input-text-dwfe>

        <app-slide-toggle-dwfe class="authtion-personal__group-vis-checker"
                               [labelText]="'public'"
                               [markIfChanged]="true"
                               [cancelEdit$]="subjCancelEdit.asObservable()"
                               [saveEdit$]="subjSaveEdit.asObservable()"
                               (takeControl)="tCity=$event"
                               (takeIsChanged)="cityNonPublic_changed=$event">
        </app-slide-toggle-dwfe>
      </div>

      <div class="authtion-personal__group">
        <app-input-text-dwfe class="authtion-personal__group-control"
                             [labelText]="'Company'"
                             [markIfChanged]="true"
                             [cancelEdit$]="subjCancelEdit.asObservable()"
                             [saveEdit$]="subjSaveEdit.asObservable()"
                             (takeControl)="cCompany=$event"
                             (takeIsChanged)="company_changed=$event">
        </app-input-text-dwfe>

        <app-slide-toggle-dwfe class="authtion-personal__group-vis-checker"
                               [labelText]="'public'"
                               [markIfChanged]="true"
                               [cancelEdit$]="subjCancelEdit.asObservable()"
                               [saveEdit$]="subjSaveEdit.asObservable()"
                               (takeControl)="tCompany=$event"
                               (takeIsChanged)="companyNonPublic_changed=$event">
        </app-slide-toggle-dwfe>
      </div>

    </div>

    <div class="dwfe-pending-overlay__wrap" tabindex="-1" *ngIf="isLocked" #refPendingOverlayWrap>
      <div class="dwfe-pending-overlay" *ngIf="isLocked">
        <app-spinner-shark-fin-circle-dwfe></app-spinner-shark-fin-circle-dwfe>
      </div>
    </div>

  </form>


  <div class="authtion-personal__action-wrap">
    <button class="dwfe-form__btn  dwfe-form__btn--attraction  authtion-personal__action  authtion-personal__action--save"
            mat-raised-button
            (click)="performUpdateAccount()"
            [disabled]="!isChanged || isLocked"
            aria-label="Perform 'Update Account'">
      Save
    </button>

    <button class="dwfe-form__btn  dwfe-form__btn--standard  authtion-personal__action"
            mat-raised-button
            (click)="performCancelEdit()"
            [disabled]="!isChanged || isLocked"
            aria-label="Perform 'Cancel edit'">
      Cancel
    </button>

    <app-alert-dwfe *ngIf="errorMessage !== ''"
                    class="dwfe-form__alert-over"
                    [message]="errorMessage"
                    [blink]="true">
    </app-alert-dwfe>
    <app-alert-dwfe *ngIf="successMessage !== ''"
                    class="dwfe-form__alert-over"
                    [message]="successMessage"
                    [alertType]="'success'"
                    [blink]="true">
    </app-alert-dwfe>
  </div>

</section>
